<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <script src="//unpkg.com/@babel/polyfill@7.2.5/browser.js"></script>
    <script src="//unpkg.com/contentful-ui-extensions-sdk@3.5.0/dist/cf-extension-api.js"></script>
    <script src="//unpkg.com/react@16.6.3/umd/react.production.min.js"></script>
    <script src="//unpkg.com/react-dom@16.6.3/umd/react-dom.production.min.js"></script>
    <script src="//unpkg.com/@contentful/forma-36-react-components@2/dist/umd/forma-36-react-components.production.min.js"></script>
    <link
      rel="stylesheet"
      href="//unpkg.com/@contentful/forma-36-react-components@2/dist/styles.css"
    />
    <link
      rel="stylesheet"
      href="//unpkg.com/@contentful/forma-36-fcss/dist/styles.css"
    />
    <style type="text/css">
      body {
        margin: 0;
        padding: 0;
      }
      .gatsby-logo {
        max-width: 40%;
      }
      .flexcontainer {
        display: flex;
        flex-direction: column;
      }
      .flexcontainer > * {
        margin-bottom: 5%;
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script>
parcelRequire=function(e,r,n,t){var i="function"==typeof parcelRequire&&parcelRequire,o="function"==typeof require&&require;function u(n,t){if(!r[n]){if(!e[n]){var f="function"==typeof parcelRequire&&parcelRequire;if(!t&&f)return f(n,!0);if(i)return i(n,!0);if(o&&"string"==typeof n)return o(n);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[n][1][r]||r},p.cache={};var l=r[n]=new u.Module(n);e[n][0].call(l.exports,p,l,l.exports,this)}return r[n].exports;function p(e){return u(p.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=r,u.parent=i,u.register=function(r,n){e[r]=[function(e,r){r.exports=n},{}]};for(var f=0;f<n.length;f++)u(n[f]);if(n.length){var c=u(n[n.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=c:"function"==typeof define&&define.amd?define(function(){return c}):t&&(this[t]=c)}return u}({"/deH":[function(require,module,exports) {
function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(t,n){return!n||"object"!==e(n)&&"function"!=typeof n?o(t):n}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=function(e){function M(e){var i;t(this,M),r(o(i=n(this,u(M).call(this,e))),"componentDidMount",function(){i.detachFn=i.props.sdk.entry.onSysChanged(i.onSysChanged),i.props.sdk.window.startAutoResizer()}),r(o(i),"componentWillUnmount",function(){i.detachFn(),i.debounceInterval&&clearInterval(i.debounceInterval)}),r(o(i),"onError",function(e){i.setState({working:!1}),i.props.sdk.notifier.error(e.message)}),r(o(i),"onSysChanged",function(){i.state.isAutoUpdate&&(i.debounceInterval&&clearInterval(i.debounceInterval),i.debounceInterval=setInterval(i.refreshGatsbyPreview,1e3))}),r(o(i),"refreshGatsbyPreview",function(){i.debounceInterval&&clearInterval(i.debounceInterval),fetch(i.state.webhookUrl,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})}).then(function(e){return i.props.sdk.notifier.success("Gatsby Preview updated!")},function(e){return i.props.sdk.notifier.error("Gatsby Preview failed :(")})}),r(o(i),"openPreviewTab",function(){window.open(i.state.projectUrl+i.props.sdk.entry.fields.slug.getValue())}),r(o(i),"onAutoUpdateChange",function(e){i.setState({isAutoUpdate:"yes"===e.target.value})}),r(o(i),"render",function(){return React.createElement("div",{className:"extension"},React.createElement("div",{className:"flexcontainer"},React.createElement(Forma36.Button,{buttonType:"positive",onClick:i.openPreviewTab},"Open preview"),React.createElement(Forma36.FieldGroup,{row:!0},React.createElement(Forma36.RadioButtonField,{labelText:"Auto-update",disabled:!1,checked:i.state.isAutoUpdate,value:"yes",onChange:i.onAutoUpdateChange,labelIsLight:!0,name:"autoUpdate"}),React.createElement(Forma36.RadioButtonField,r({labelText:"Manual update",disabled:!1,checked:!i.state.isAutoUpdate,name:"someOption",value:"no",onChange:i.onAutoUpdateChange,labelIsLight:!0},"name","autoUpdate"))),React.createElement(Forma36.Button,{size:"small",buttonType:"muted",onClick:i.refreshGatsbyPreview},"Update Preview"),React.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-end"}},React.createElement(Forma36.Paragraph,{extraClassNames:"",element:"p",style:{marginRight:"5%"}},"Powered by:"),React.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDYgMjgiPgogIDxwYXRoIGQ9Ik02Mi45IDEyaDIuOHYxMGgtMi44di0xLjNjLTEgMS41LTIuMyAxLjYtMy4xIDEuNi0zLjEgMC01LjEtMi40LTUuMS01LjMgMC0zIDItNS4zIDQuOS01LjMuOCAwIDIuMy4xIDMuMiAxLjZWMTJ6bS01LjIgNWMwIDEuNiAxLjEgMi44IDIuOCAyLjggMS42IDAgMi44LTEuMiAyLjgtMi44IDAtMS42LTEuMS0yLjgtMi44LTIuOC0xLjYgMC0yLjggMS4yLTIuOCAyLjh6bTEzLjUtMi42VjIyaC0yLjh2LTcuNmgtMS4xVjEyaDEuMVY4LjZoMi44VjEyaDEuOXYyLjRoLTEuOXptOC41IDBjLS43LS42LTEuMy0uNy0xLjYtLjctLjcgMC0xLjEuMy0xLjEuOCAwIC4zLjEuNi45LjlsLjcuMmMuOC4zIDIgLjYgMi41IDEuNC4zLjQuNSAxIC41IDEuNyAwIC45LS4zIDEuOC0xLjEgMi41cy0xLjggMS4xLTMgMS4xYy0yLjEgMC0zLjItMS0zLjktMS43bDEuNS0xLjdjLjYuNiAxLjQgMS4yIDIuMiAxLjIuOCAwIDEuNC0uNCAxLjQtMS4xIDAtLjYtLjUtLjktLjktMWwtLjYtLjJjLS43LS4zLTEuNS0uNi0yLjEtMS4yLS41LS41LS44LTEuMS0uOC0xLjkgMC0xIC41LTEuOCAxLTIuMy44LS42IDEuOC0uNyAyLjYtLjcuNyAwIDEuOS4xIDMuMiAxLjFsLTEuNCAxLjZ6bTYuMS0xLjFjMS0xLjQgMi40LTEuNiAzLjItMS42IDIuOSAwIDQuOSAyLjMgNC45IDUuM3MtMiA1LjMtNSA1LjNjLS42IDAtMi4xLS4xLTMuMi0xLjZWMjJIODNWNS4yaDIuOHY4LjF6bS0uMyAzLjdjMCAxLjYgMS4xIDIuOCAyLjggMi44IDEuNiAwIDIuOC0xLjIgMi44LTIuOCAwLTEuNi0xLjEtMi44LTIuOC0yLjgtMS43IDAtMi44IDEuMi0yLjggMi44em0xMyAzLjVMOTMuNyAxMkg5N2wzLjEgNS43IDIuOC01LjdoMy4ybC04IDE1LjNoLTMuMmwzLjYtNi44ek01NCAxMy43aC03djIuOGgzLjdjLS42IDEuOS0yIDMuMi00LjYgMy4yLTIuOSAwLTUtMi40LTUtNS4zUzQzLjEgOSA0NiA5YzEuNiAwIDMuMi44IDQuMiAyLjFsMi4zLTEuNUM1MSA3LjUgNDguNiA2LjMgNDYgNi4zYy00LjQgMC04IDMuNi04IDguMXMzLjQgOC4xIDggOC4xIDgtMy42IDgtOC4xYy4xLS4zIDAtLjUgMC0uN3oiLz4KICA8cGF0aCBkPSJNMjUgMTRoLTd2Mmg0LjhjLS43IDMtMi45IDUuNS01LjggNi41TDUuNSAxMWMxLjItMy41IDQuNi02IDguNS02IDMgMCA1LjcgMS41IDcuNCAzLjhsMS41LTEuM0MyMC45IDQuOCAxNy43IDMgMTQgMyA4LjggMyA0LjQgNi43IDMuMyAxMS42bDEzLjIgMTMuMkMyMS4zIDIzLjYgMjUgMTkuMiAyNSAxNHptLTIyIC4xYzAgMi44IDEuMSA1LjUgMy4yIDcuNiAyLjEgMi4xIDQuOSAzLjIgNy42IDMuMkwzIDE0LjF6IiBmaWxsPSIjZmZmIi8+CiAgPHBhdGggZD0iTTE0IDBDNi4zIDAgMCA2LjMgMCAxNHM2LjMgMTQgMTQgMTQgMTQtNi4zIDE0LTE0UzIxLjcgMCAxNCAwek02LjIgMjEuOEM0LjEgMTkuNyAzIDE2LjkgMyAxNC4yTDEzLjkgMjVjLTIuOC0uMS01LjYtMS4xLTcuNy0zLjJ6bTEwLjIgMi45TDMuMyAxMS42QzQuNCA2LjcgOC44IDMgMTQgM2MzLjcgMCA2LjkgMS44IDguOSA0LjVsLTEuNSAxLjNDMTkuNyA2LjUgMTcgNSAxNCA1Yy0zLjkgMC03LjIgMi41LTguNSA2TDE3IDIyLjVjMi45LTEgNS4xLTMuNSA1LjgtNi41SDE4di0yaDdjMCA1LjItMy43IDkuNi04LjYgMTAuN3oiIGZpbGw9IiM2MzkiLz4KPC9zdmc+Cg==",class:"gatsby-logo",alt:"Gatsby Logo","aria-hidden":"true"}))))});var a=i.props.sdk.parameters,L=a.installation.projectId,j=a.instance,g=j.contentTypeSlug,c=j.isAutoUpdate;return i.state={projectId:L,isAutoUpdate:c,projectUrl:"https://"+L+"-preview.gtsb.io/"+g+"/",webhookUrl:"https://backends.ctffns.net/gatsby-preview-proxy/"+L},i}return i(M,React.Component),M}();contentfulExtension.init(function(e){ReactDOM.render(React.createElement(a,{sdk:e}),document.getElementById("root"))});
},{}]},{},["/deH"], null)
</script>
  </body>
</html>
